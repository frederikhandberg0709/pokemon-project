import{w as x}from"./QueryClientProvider-CQ6LpxiL.js";import{q as h,t as f,l as e}from"./chunk-XJI4KG32-BDTyQe5R.js";import{u as p,B as o,t as j,F as u}from"./Footer-B5mroQMv.js";function N(l){return p({queryKey:["pokemonDetails",l],queryFn:async()=>{var s,r;if(!l)throw new Error("No Pokémon URL provided");const n=await fetch(l);if(!n.ok)throw new Error("Failed to fetch Pokémon details");const a=await n.json();let c="";try{const i=await fetch(a.species.url);if(i.ok){const t=(await i.json()).flavor_text_entries.find(m=>m.language.name==="en");t&&(c=t.flavor_text.replace(/\f/g," "))}}catch(i){console.error("Failed to fetch species data:",i)}return{id:a.id,name:a.name,types:a.types.map(i=>i.type.name),stats:a.stats.map(i=>({name:i.stat.name,value:i.base_stat})),abilities:a.abilities.map(i=>i.ability.name),height:a.height,weight:a.weight,sprite:a.sprites.front_default,officialArtwork:((r=(s=a.sprites.other)==null?void 0:s["official-artwork"])==null?void 0:r.front_default)||null,description:c}},enabled:!!l})}const g=l=>({hp:"HP",attack:"Attack",defense:"Defense","special-attack":"Sp. Atk","special-defense":"Sp. Def",speed:"Speed"})[l]||l,y=x(function(){const{id:n}=h(),a=f(),c=n?`https://pokeapi.co/api/v2/pokemon/${n}/`:null,{data:s,isPending:r,isError:i}=N(c),d=()=>{a("/")};return r?e.jsx("div",{className:"flex h-screen items-center justify-center",children:e.jsx("div",{className:"text-center text-lg font-medium",children:"Loading Pokémon details..."})}):i||!s?e.jsxs("div",{className:"flex h-screen flex-col items-center justify-center",children:[e.jsx("h2",{className:"mb-4 text-center text-2xl font-bold",children:"Pokémon not found"}),e.jsx(o,{onClick:d,className:"bg-red-500 hover:bg-red-700",children:"Back to List"})]}):e.jsxs("div",{className:"flex min-h-screen flex-col justify-between",children:[e.jsxs("div",{className:"container mx-auto mt-10 space-y-7 px-10",children:[e.jsx("header",{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-3xl font-semibold",children:"Pokémon Details"}),e.jsx(o,{onClick:d,className:"rounded-full",children:"Back to List"})]})}),e.jsx("main",{children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col items-center md:flex-row",children:[e.jsx("div",{className:"flex justify-center md:w-1/3",children:s!=null&&s.officialArtwork||s!=null&&s.sprite?e.jsx("img",{src:(s==null?void 0:s.officialArtwork)||(s==null?void 0:s.sprite),alt:s==null?void 0:s.name,className:"h-48 w-48 object-contain"}):e.jsx("p",{children:"Failed to fetch image."})}),e.jsxs("div",{className:"text-white md:w-2/3",children:[e.jsxs("div",{className:"mb-2 flex items-baseline",children:[e.jsx("h2",{className:"mr-2 text-3xl font-bold capitalize",children:s.name}),e.jsxs("span",{className:"text-xl opacity-70",children:["#",s.id.toString().padStart(3,"0")]})]}),e.jsx("div",{className:"mb-4 flex gap-2",children:s.types.map(t=>e.jsx("span",{style:{backgroundColor:j[t]||"bg-gray-500"},className:"rounded-full px-3 py-1 text-sm font-semibold text-white capitalize",children:t},t))}),e.jsx("p",{className:"mb-4 text-lg",children:s.description||"Failed to fetch description."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-200",children:"Height"}),e.jsxs("p",{className:"text-xl font-semibold",children:[s.height/10," m"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-200",children:"Weight"}),e.jsxs("p",{className:"text-xl font-semibold",children:[s.weight/10," kg"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4 text-xl font-bold",children:"Base Stats"}),e.jsx("div",{className:"space-y-3",children:s.stats.map(t=>e.jsxs("div",{children:[e.jsxs("div",{className:"mb-1 flex justify-between",children:[e.jsx("span",{className:"font-semibold",children:g(t.name)}),e.jsx("span",{children:t.value})]}),e.jsx("div",{className:"h-2.5 w-full rounded-full bg-gray-800",children:e.jsx("div",{className:"h-2.5 rounded-full bg-red-600",style:{width:`${Math.min(100,t.value/255*100)}%`}})})]},t.id||t.name))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4 text-xl font-bold",children:"Abilities"}),e.jsx("div",{className:"flex flex-wrap gap-4",children:s.abilities.map(t=>e.jsx("div",{className:"rounded-lg border p-4",children:e.jsx("div",{className:"items-center",children:e.jsx("h4",{className:"text-lg font-semibold capitalize",children:t.replace("-"," ")})})},t))})]})]})})]}),e.jsx(u,{})]})});export{y as default};
