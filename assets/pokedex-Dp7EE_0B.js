import{w as m}from"./QueryClientProvider-CQ6LpxiL.js";import{l as s,p as x,r as u}from"./chunk-XJI4KG32-BDTyQe5R.js";import{u as h,g as p,B as c,F as j}from"./Footer-B5mroQMv.js";function f({id:i,number:e,name:a,imageSrc:r,cardColor:n}){return i&&i!=="undefined"?s.jsxs(x,{to:`/pokemon/${i}`,style:{backgroundColor:n},className:"flex h-24 w-52 items-center justify-between rounded-2xl bg-white p-2.5",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-50",children:e}),s.jsx("p",{className:"text-xl font-bold",children:a})]}),s.jsx("div",{children:s.jsx("img",{src:r,alt:a,className:"size-20"})})]}):s.jsxs("div",{style:{backgroundColor:n},className:"flex h-24 w-52 items-center justify-between rounded-2xl bg-white p-2.5",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm opacity-50",children:e}),s.jsx("p",{className:"text-xl font-bold",children:a})]}),s.jsx("div",{children:s.jsx("img",{src:r,alt:a,className:"size-20"})})]})}const l=i=>{const e=i.split("/");return parseInt(e[e.length-2],10)};function g({page:i=1,limit:e=20}){const a=(i-1)*e;return h({queryKey:["pokemonList",i,e],queryFn:async()=>{const r=await fetch(`https://pokeapi.co/api/v2/pokemon?offset=${a}&limit=${e}`);if(!r.ok)throw new Error("Failed to fetch Pokemon list");const n=await r.json(),o=n.results.map(t=>{const d=l(t.url);return{...t,id:d}});return{...n,results:o}}})}const N=i=>`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${l(i)}.png`,y=m(function(){const[e,a]=u.useState(1),{data:r,isPending:n}=g({page:e,limit:20}),o=r?Math.ceil(r.count/20):0;return s.jsxs("div",{className:"flex min-h-screen flex-col justify-between",children:[s.jsxs("div",{className:"mx-auto mt-10 space-y-7 max-md:w-max max-md:px-5 md:max-w-4xl",children:[s.jsx("header",{children:s.jsx("h1",{className:"text-3xl font-semibold",children:"Pokémon List"})}),s.jsx("main",{className:"container mx-auto",children:s.jsxs("div",{className:"flex flex-col items-center gap-7",children:[n?s.jsx("p",{children:"Loading Pokémon list..."}):s.jsx("div",{className:"grid gap-5 sm:grid-cols-2 lg:grid-cols-4",children:r==null?void 0:r.results.map(t=>s.jsx(f,{id:t.id,name:t.name,number:`#${l(t.url)}`,imageSrc:N(t.url),cardColor:p(Number(t.id))},t.id))}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(c,{onClick:()=>a(t=>Math.max(t-1,1)),disabled:e===1,children:"Previous"}),s.jsxs("span",{className:"opacity-50",children:["Page ",e," of ",o]}),s.jsx(c,{onClick:()=>a(t=>Math.min(t+1,o)),disabled:e===o,children:"Next"})]})]})})]}),s.jsx(j,{})]})});export{y as default};
